# channel-post-manager-bot
A Telegram bot that allows users to submit posts, which must be approved by an admin before being published to a channel.

# 🤖 ربات تأیید پست تلگرام

این ربات به کاربران اجازه می‌دهد تا پست‌های متنی، تصویری، ویدیویی یا صوتی خود را به صورت خصوصی ارسال کنند. سپس پست برای بررسی به گروه ادمین‌ها ارسال شده و در صورت تأیید با دکمه‌های اینلاین، در یک کانال منتشر می‌شود. به‌ازای هر پست تأیید شده، یک ❤️ به حساب کاربر اضافه می‌شود.

---

## ✨ امکانات

- دریافت پست کاربران به صورت خصوصی (متن، عکس، ویدیو، صدا)
- ارسال پست برای بررسی توسط ادمین‌ها با دکمه‌های تأیید و رد
- انتشار پست‌های تأییدشده در کانال مشخص‌شده
- ذخیره اطلاعات در پایگاه‌داده SQLite
- امکان افزودن لینک پروکسی توسط ادمین

---

## 🧩 تکنولوژی‌های استفاده‌شده

- Python 3.10+
- کتابخانه [python-telegram-bot](https://docs.python-telegram-bot.org/)
- پایگاه‌داده SQLite

---

## 📂 ساختار پروژه

```
.
├── token.txt               # توکن ربات (در فایل گیت ذخیره نمی‌شود)
├── users.db                # دیتابیس SQLite (در زمان اجرا ساخته می‌شود)
├── main.py                 # فایل اصلی شامل کلاس ربات
```

---

## ⚙️ نحوه‌ی استفاده

1. ابتدا پروژه را کلون کنید:
   ```bash
   git clone https://github.com/your-username/telegram-approval-bot.git
   cd telegram-approval-bot
   ```

2. یک فایل به نام `token.txt` بسازید و توکن ربات خود را داخل آن قرار دهید:
   ```
   123456:ABC-توکن-ربات
   ```

3. کتابخانه‌ها را نصب کنید:
   ```bash
   pip install python-telegram-bot
   ```

4. حالا ربات را اجرا کنید:
   ```bash
   python main.py
   ```

---

## 🧑‍💻 دستورات ادمین

- `/proxy <لینک>` — افزودن لینک پروکسی جدید (فقط برای ادمین‌ها)

---

## 📦 ساختار دیتابیس

### جدول `users`:
| ستون         | نوع داده    | توضیحات                    |
|--------------|-------------|-----------------------------|
| ID           | INTEGER     | کلید اصلی با شمارش خودکار |
| CHAT_ID      | INTEGER     | آی‌دی کاربر تلگرام         |
| MESSAGE_ID   | INTEGER     | آی‌دی پیام تلگرام          |
| FILE_ID      | TEXT        | شناسه فایل (در صورت وجود) |
| TEXT_USER    | TEXT        | متن یا کپشن                |
| MESSAGE_TYPE | TEXT        | نوع پیام (text, photo, ...) |
| COUNT_HEART  | INTEGER     | تعداد قلب دریافتی ❤️       |

### جدول `proxy`:
| ستون    | نوع داده  | توضیحات               |
|---------|-----------|------------------------|
| ID      | INTEGER   | کلید اصلی              |
| PROXY   | TEXT      | لینک پروکسی ارسال‌شده |

---

## 📌 نکات

- فقط ادمین‌هایی که آی‌دی آن‌ها در لیست هستند قادر به تأیید/رد پست‌ها هستند.
- در پایین هر پست تأییدشده، لینک پروکسی نشان داده می‌شود.
- اگر پستی رد شود، پیامی برای کاربر ارسال می‌شود و به او اعلام می‌شود که می‌تواند مجدداً پست ارسال کند.

---

---

## ✍️ نویسنده

ساخته‌شده توسط meti7417:)
